<span class="input-group">

    <!-- input -->
    <input type="text"
           ng-model="selected"
           placeholder="{{options.placeholder}}"
           uib-typeahead="items as (items[items.$meta[0].field]) for items in sourceP($viewValue)"
           typeahead-loading="loadingLocations"
           typeahead-no-results="noResults"
           typeahead-wait-ms="200"
           typeahead-template-url="rndSearchBox.popup.html"
           typeahead-on-select="onSelectLocal($item, $meta, $label)"
           class="form-control xl">
    <!-- /input -->

    <!-- ícono lupa -->
    <span class="input-group-btn btn-rounded">
        <button ng-disabled="true"
                type="button"
                class="btn btn-default ">
            <i class="fa fa-search "></i>
        </button>
    </span>
    <!-- /ícono lupa -->
</span>

<!-- spinner -->
<md-progress-linear ng-if="loadingLocations"
                    md-mode="indeterminate"
                    ng-disabled="true">
</md-progress-linear>
<!-- /spinner -->

<!-- Sin resultados -->
<span ng-if="noResults && !$offline">
    <h5 class="dimmed">
        <span class="mr-5">&empty;</span> No se encontraron resultados
    </h5>
</span>
<!-- /Sin resultados -->

<!-- Offline -->
<div ng-if="$offline">
    <h5 class="m-10 text-danger busy">
        <i class="fa fa-exclamation-triangle"></i> Error de conexión</h5>
</div>
<!-- /Offline -->

<!-- script de popoup-->
<script type="text/ng-template"
        id="rndSearchBox.popup.html">
    <a href
       tabindex="-1"
       ng-attr-title="{{match.label}}">
        <p class="mb-0"
           ng-bind-html="match.label | uibTypeaheadHighlight:query"></p>
        <span class="text-sm text-muted pl-4"
              ng-repeat="m in match.model.$meta">
            <span ng-if="!$first">
                <strong>{{m.name}}</strong>: {{match.model[m.field]| monitor:m:match.model.$rtablas}}
            </span>
        </span>
    </a>
</script>
<!-- /script de popoup-->